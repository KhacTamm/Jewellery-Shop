{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-03589122\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"wapperaccount\"\n};\nconst _hoisted_2 = {\n  class: \"js-center\"\n};\nconst _hoisted_3 = {\n  id: \"login\"\n};\n\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"titleAccount\"\n}, \"Tạo tài khoản\", -1\n/* HOISTED */\n));\n\nconst _hoisted_5 = {\n  class: \"form-login\"\n};\nconst _hoisted_6 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Field = _resolveComponent(\"Field\");\n\n  const _component_ErrorMessage = _resolveComponent(\"ErrorMessage\");\n\n  const _component_Form = _resolveComponent(\"Form\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createVNode(_component_Form, {\n    class: \"login\",\n    \"validation-schema\": $data.accountFormSchema,\n    onSubmit: _cache[4] || (_cache[4] = $event => $options.handlerRegister($data.account))\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"ul\", null, [_createElementVNode(\"li\", null, [_createVNode(_component_Field, {\n      name: \"username\",\n      type: \"text\",\n      placeholder: \"Tên tài khoản\",\n      class: \"text\",\n      modelValue: $data.account.username,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.account.username = $event)\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"username\",\n      class: \"error-feedback\"\n    })]), _createElementVNode(\"li\", null, [_createVNode(_component_Field, {\n      name: \"phone\",\n      type: \"text\",\n      placeholder: \"Số điện thoại\",\n      class: \"text\",\n      modelValue: $data.account.phone,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.account.phone = $event)\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"phone\",\n      class: \"error-feedback\"\n    })]), _createCommentVNode(\" <li>\\n              <Field\\n                name=\\\"address\\\"\\n                type=\\\"text\\\"\\n                placeholder=\\\"Địa chỉ\\\"\\n                class=\\\"text\\\"\\n                v-model=\\\"account.address\\\"\\n              />\\n              <ErrorMessage name=\\\"address\\\" class=\\\"error-feedback\\\" />\\n            </li> \"), _createElementVNode(\"li\", null, [_createVNode(_component_Field, {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Mật khẩu\",\n      class: \"text\",\n      modelValue: $data.account.password,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.account.password = $event)\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"password\",\n      class: \"error-feedback\"\n    })]), _createElementVNode(\"li\", null, [_createVNode(_component_Field, {\n      name: \"isConfirmed\",\n      type: \"password\",\n      placeholder: \"Nhập lại mật khẩu\",\n      modelValue: $data.account.isConfirmed,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.account.isConfirmed = $event),\n      class: \"text\"\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"isConfirmed\",\n      class: \"error-feedback\"\n    })]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n      type: \"submit\",\n      class: \"login btn\",\n      disabled: $data.loading\n    }, \" Đăng ký \", 8\n    /* PROPS */\n    , _hoisted_6)])])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"validation-schema\"]), $data.message ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass([\"alert\", $data.successful ? 'alert-success' : 'alert-danger'])\n  }, _toDisplayString($data.message), 3\n  /* TEXT, CLASS */\n  )) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"mappings":";;;;;EACOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJC,EAAE,EAAC;;;gEACNC,oBAA2C,IAA3C,EAA2C;EAAvCF,KAAK,EAAC;AAAiC,CAA3C,EAAyB,eAAzB,EAAsC;AAAA;AAAtC;;;EAyDSA,KAAK,EAAC;;;;;;;;;;uBA5DrBG,oBA4EM,KA5EN,cA4EM,CA3EJD,oBA0EM,KA1EN,cA0EM,CAzEJA,oBAwEM,KAxEN,cAwEM,CAvEJE,UAuEI,EAtEJC,aA8DOC,eA9DP,EA8DO;IA7DLN,KAAK,EAAC,OA6DD;IA5DJ,qBAAmBO,uBA4Df;IA3DJC,QAAM,sCAAEC,yBAAgBF,aAAhB,CAAF;EA2DF,CA9DP;sBAKE,MAwDK,CAxDLL,oBAwDK,IAxDL,EAwDK,IAxDL,EAwDK,CAvDHA,oBASK,IATL,EASK,IATL,EASK,CARHG,aAMEK,gBANF,EAME;MALAC,IAAI,EAAC,UAKL;MAJAC,IAAI,EAAC,MAIL;MAHAC,WAAW,EAAC,eAGZ;MAFAb,KAAK,EAAC,MAEN;kBADSO,cAAQO,QACjB;iEADSP,cAAQO,WAAQC;IACzB,CANF;;IAAA,iBAQG,EADHV,aAAuDW,uBAAvD,EAAuD;MAAzCL,IAAI,EAAC,UAAoC;MAAzBX,KAAK,EAAC;IAAmB,CAAvD,CACG,CATL,CAuDG,EA7CHE,oBASK,IATL,EASK,IATL,EASK,CARHG,aAMEK,gBANF,EAME;MALAC,IAAI,EAAC,OAKL;MAJAC,IAAI,EAAC,MAIL;MAHAC,WAAW,EAAC,eAGZ;MAFAb,KAAK,EAAC,MAEN;kBADSO,cAAQU,KACjB;iEADSV,cAAQU,QAAKF;IACtB,CANF;;IAAA,iBAQG,EADHV,aAAoDW,uBAApD,EAAoD;MAAtCL,IAAI,EAAC,OAAiC;MAAzBX,KAAK,EAAC;IAAmB,CAApD,CACG,CATL,CA6CG,EAnCHkB,yVAmCG,EAzBHhB,oBASK,IATL,EASK,IATL,EASK,CARHG,aAMEK,gBANF,EAME;MALAC,IAAI,EAAC,UAKL;MAJAC,IAAI,EAAC,UAIL;MAHAC,WAAW,EAAC,UAGZ;MAFAb,KAAK,EAAC,MAEN;kBADSO,cAAQY,QACjB;iEADSZ,cAAQY,WAAQJ;IACzB,CANF;;IAAA,iBAQG,EADHV,aAAuDW,uBAAvD,EAAuD;MAAzCL,IAAI,EAAC,UAAoC;MAAzBX,KAAK,EAAC;IAAmB,CAAvD,CACG,CATL,CAyBG,EAfHE,oBASK,IATL,EASK,IATL,EASK,CARHG,aAMEK,gBANF,EAME;MALAC,IAAI,EAAC,aAKL;MAJAC,IAAI,EAAC,UAIL;MAHAC,WAAW,EAAC,mBAGZ;kBAFSN,cAAQa,WAEjB;iEAFSb,cAAQa,cAAWL,OAE5B;MADAf,KAAK,EAAC;IACN,CANF;;IAAA,iBAQG,EADHK,aAA0DW,uBAA1D,EAA0D;MAA5CL,IAAI,EAAC,aAAuC;MAAzBX,KAAK,EAAC;IAAmB,CAA1D,CACG,CATL,CAeG,EALHE,oBAIM,KAJN,cAIM,CAHJA,oBAES,QAFT,EAES;MAFDU,IAAI,EAAC,QAEJ;MAFaZ,KAAK,EAAC,WAEnB;MAFgCqB,QAAQ,EAAEd;IAE1C,CAFT,EAA4D,WAA5D,EAEA;IAAA;IAFA,EAEAe,UAFA,CAGI,CAJN,CAKG,CAxDL,CAwDK;;;;GA7DP;;EAAA,wBAsEI,EANIf,+BADRJ,oBAMM,KANN,EAMM;UAAA;IAJJH,KAAK,mBAAC,OAAD,EACGO,mBAAU,eAAV,GAAU,cADb;EAID,CANN,mBAKKA,cALL,EAKY;EAAA;EALZ,sCAOI,CAxEN,CAyEI,CA1EN,CA2EI,CA5EN","names":["class","id","_createElementVNode","_createElementBlock","_hoisted_4","_createVNode","_component_Form","$data","onSubmit","$options","_component_Field","name","type","placeholder","username","$event","_component_ErrorMessage","phone","_createCommentVNode","password","isConfirmed","disabled","_hoisted_6"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\views\\RegisterView.vue"],"sourcesContent":["<template>\n  <div class=\"wapperaccount\">\n    <div class=\"js-center\">\n      <div id=\"login\">\n        <h2 class=\"titleAccount\">Tạo tài khoản</h2>\n        <Form\n          class=\"login\"\n          :validation-schema=\"accountFormSchema\"\n          @submit=\"handlerRegister(account)\"\n        >\n          <ul>\n            <li>\n              <Field\n                name=\"username\"\n                type=\"text\"\n                placeholder=\"Tên tài khoản\"\n                class=\"text\"\n                v-model=\"account.username\"\n              />\n              <ErrorMessage name=\"username\" class=\"error-feedback\" />\n            </li>\n            <li>\n              <Field\n                name=\"phone\"\n                type=\"text\"\n                placeholder=\"Số điện thoại\"\n                class=\"text\"\n                v-model=\"account.phone\"\n              />\n              <ErrorMessage name=\"phone\" class=\"error-feedback\" />\n            </li>\n            <!-- <li>\n              <Field\n                name=\"address\"\n                type=\"text\"\n                placeholder=\"Địa chỉ\"\n                class=\"text\"\n                v-model=\"account.address\"\n              />\n              <ErrorMessage name=\"address\" class=\"error-feedback\" />\n            </li> -->\n            <li>\n              <Field\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"Mật khẩu\"\n                class=\"text\"\n                v-model=\"account.password\"\n              />\n              <ErrorMessage name=\"password\" class=\"error-feedback\" />\n            </li>\n            <li>\n              <Field\n                name=\"isConfirmed\"\n                type=\"password\"\n                placeholder=\"Nhập lại mật khẩu\"\n                v-model=\"account.isConfirmed\"\n                class=\"text\"\n              />\n              <ErrorMessage name=\"isConfirmed\" class=\"error-feedback\" />\n            </li>\n            <div class=\"form-login\">\n              <button type=\"submit\" class=\"login btn\" :disabled=\"loading\">\n                Đăng ký\n              </button>\n            </div>\n          </ul>\n        </Form>\n        <div\n          v-if=\"message\"\n          class=\"alert\"\n          :class=\"successful ? 'alert-success' : 'alert-danger'\"\n        >\n          {{ message }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"pinia\";\nimport { useAppStore } from \"@/stores/app.store\";\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\n\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n    const accountFormSchema = yup.object().shape({\n      username: yup\n        .string()\n        .required(\"Vui lòng nhập trường này.\")\n        .min(2, \"Vui lòng tối thiểu 2 kí tự.\")\n        .max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      phone: yup\n        .string()\n        .required(\"Vui lòng nhập trường này.\")\n        .matches(\n          /((09|03|07|08|05)+([0-9]{8})\\b)/g,\n          \"Số điện thoại không hợp lệ.\"\n        ),\n      address: yup.string().required(\"Vui lòng nhập trường này.\"),\n      password: yup\n        .string()\n        .required(\"Vui lòng nhập trường này.\")\n        .min(4, \"Mật khẩu phải dài tối thiểu 4 kí tự.\")\n        .max(8, \"Mật khẩu dài tối đa 8 kí tự.\"),\n      isConfirmed: yup\n        .string()\n        .oneOf([yup.ref(\"password\"), null], \"Passwords must match\"),\n    });\n    return {\n      successful: false,\n      loading: false,\n      message: \"\",\n      accountFormSchema,\n      account: {\n        type: Object,\n        require: true,\n      },\n    };\n  },\n  methods: {\n    ...mapActions(useAppStore, [\"register\"]),\n\n    async handlerRegister(user) {\n      this.message = \"\";\n      this.successful = false;\n      this.loading = true;\n      console.log(\"hello\");\n\n      try {\n        console.log(\"hello\");\n        await this.register(user);\n        this.$router.push({ name: \"login\" });\n        this.successful = true;\n        this.loading = false;\n      } catch (error) {\n        console.log(error);\n\n        this.message = \"Đã có lỗi xảy ra.\";\n        this.successful = false;\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import \"@/assets/css/fromLoginRegister.css\";\n</style>\n"]},"metadata":{},"sourceType":"module"}