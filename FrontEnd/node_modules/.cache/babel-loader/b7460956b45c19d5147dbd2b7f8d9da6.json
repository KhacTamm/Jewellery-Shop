{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport AdminService from \"@/services/admin.service\";\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage\n  },\n\n  // props: {\n  //   product: { type: Object, required: true },\n  // },\n  data() {\n    const productFormSchema = yup.object().shape({\n      name: yup.string().required(\"Tên phải có giá trị.\").min(2, \"Tên phải ít nhất 2 ký tự.\").max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      img: yup.array(),\n      quantity: yup.string().required(\"Tên phải có giá trị.\"),\n      BaPrice: yup.string().required(\"Không được để trống trường này.\").min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\").max(50, \"E-mail tối đa 50 ký tự.\"),\n      PrPrice: yup.string().required(\"Không được để trống trường này.\").min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\").max(50, \"E-mail tối đa 50 ký tự.\")\n    });\n    return {\n      product: {\n        type: Object,\n        require: true\n      },\n      productFormSchema,\n      file: [],\n      quantity: [],\n      previousNameFile: [],\n      typeProducts: []\n    };\n  },\n\n  computed: {\n    filteredTypeT() {\n      return this.typeProducts;\n    },\n\n    filteredTypePCount() {\n      return this.filteredTypeT.length;\n    }\n\n  },\n  methods: {\n    handleFileUpload() {\n      this.file.push(this.$refs.file.files[0].name);\n      this.product.img = this.file;\n      this.previousNameFile = this.file;\n    },\n\n    Type(data) {\n      console.log(data);\n    },\n\n    addType() {\n      this.product.type = this.$refs.type.options[this.$refs.type.selectedIndex].value;\n      console.log(this.product.type);\n    },\n\n    async createProduct(data) {\n      try {\n        this.$router.push({\n          name: \"AdminAllProduct\"\n        });\n        await AdminService.create(data);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async retrieveTypeP() {\n      try {\n        this.typeProducts = await AdminService.getAllTypeProducts();\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  },\n\n  mounted() {\n    this.retrieveTypeP();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["yup","Form","Field","ErrorMessage","AdminService","components","data","productFormSchema","object","shape","name","string","required","min","max","img","array","quantity","BaPrice","PrPrice","product","type","Object","require","file","previousNameFile","typeProducts","computed","filteredTypeT","filteredTypePCount","length","methods","handleFileUpload","push","$refs","files","Type","console","log","addType","options","selectedIndex","value","createProduct","$router","create","error","retrieveTypeP","getAllTypeProducts","mounted"],"sourceRoot":"","sources":["D:\\CT449\\BaiTapLon - Copy\\FrontEnd\\src\\components\\AdminAdd.vue"],"sourcesContent":["<template>\n  <div class=\"titileAdminView\">\n    <h3>Thêm sản phẩm</h3>\n  </div>\n  <div class=\"wapperAdmin\" v-if=\"filteredTypePCount > 0\">\n    <Form\n      @submit=\"createProduct(product)\"\n      :validation-schema=\"productFormSchema\"\n    >\n      <div class=\"mb-3 type\">\n        <label for=\"type\" class=\"form-label\">Phân loại</label>\n        <select\n          class=\"form-select form-select-sm checkbox-select-all-options\"\n          name=\"action\"\n          required\n          ref=\"type\"\n          @click=\"addType\"\n        >\n          <option\n            v-for=\"(item, index) in filteredTypeT\"\n            :key=\"index\"\n            :value=\"`${item.name}`\"\n            @mousedown=\"Type(item._id)\"\n          >\n            {{ item.name }}\n          </option>\n        </select>\n        <!-- <select\n          class=\"form-select form-select-sm checkbox-select-all-options\"\n          name=\"action\"\n          @click=\"addType\"\n          required\n          ref=\"type\"\n        >\n          <option value=\"1\">Bông tai</option>\n          <option value=\"2\">Nhẫn</option>\n          <option value=\"3\">Vòng tay</option>\n          <option value=\"4\">Dây chuyền</option>\n        </select> -->\n      </div>\n      <!-- Thương hiệu -->\n      <div class=\"mb-3\">\n        <label for=\"brand\" class=\"form-label\">Tên thương hiệu</label>\n        <Field\n          id=\"brand\"\n          name=\"brand\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"product.brand\"\n        />\n        <ErrorMessage name=\"brand\" class=\"error-feedback\" />\n      </div>\n      <!-- Tên sản phẩm -->\n      <div class=\"mb-3\">\n        <label for=\"name\" class=\"form-label\">Tên sản phẩm</label>\n        <Field\n          id=\"name\"\n          name=\"name\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"product.name\"\n        />\n        <ErrorMessage name=\"name\" class=\"error-feedback\" />\n      </div>\n      <!-- Hình -->\n      <div class=\"mb-3\">\n        <label for=\"img\" class=\"form-label\">Hình Ảnh</label>\n        <input\n          id=\"img\"\n          name=\"img\"\n          type=\"file\"\n          @change=\"handleFileUpload\"\n          @click=\"handleFileName\"\n          ref=\"file\"\n          class=\"form-control\"\n          multiple\n        />\n        <div class=\"sumImg\" v-if=\"previousNameFile.length > 0\">\n          <div\n            class=\"FileNameItem\"\n            v-for=\"(FileName, index) in previousNameFile\"\n            :key=\"index\"\n          >\n            <img\n              class=\"imgProduct\"\n              :src=\"`${require('@/assets/img/product/' + FileName)}`\"\n            />\n            <!-- {{ FileName }} -->\n          </div>\n        </div>\n        <ErrorMessage name=\"img\" class=\"error-feedback\" />\n      </div>\n      <!-- Chất Liệu < -->\n      <div class=\"mb-3\">\n        <label for=\"material\" class=\"form-label\">Chất Liệu</label>\n        <Field\n          id=\"material\"\n          name=\"material\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"product.material\"\n        />\n        <ErrorMessage name=\"name\" class=\"error-feedback\" />\n      </div>\n      <!-- Phong cách -->\n      <div class=\"mb-3\">\n        <label for=\"name\" class=\"form-label\">Phong cách</label>\n        <Field\n          id=\"style\"\n          name=\"style\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"product.style\"\n        />\n        <ErrorMessage name=\"style\" class=\"error-feedback\" />\n      </div>\n      <!-- Số lượng -->\n      <div class=\"mb-3\">\n        <label for=\"quantity\" class=\"form-label\">Số lượng</label>\n        <Field\n          id=\"quantity\"\n          name=\"quantity\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"product.quantity\"\n        />\n        <ErrorMessage name=\"quantity\" class=\"error-feedback\" />\n      </div>\n      <!-- Giá -->\n      <div class=\"mb-3\">\n        <label for=\"BaPrice\" class=\"form-label\">Giá Gốc</label>\n        <Field\n          id=\"BaPrice\"\n          name=\"BaPrice\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"product.BaPrice\"\n        />\n        <ErrorMessage name=\"BaPrice\" class=\"error-feedback\" />\n      </div>\n      <div class=\"mb-3\">\n        <label for=\"PrPrice\" class=\"form-label\">Giá Khuyến Mãi</label>\n        <Field\n          id=\"PrPrice\"\n          name=\"PrPrice\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"product.PrPrice\"\n        />\n        <ErrorMessage name=\"PrPrice\" class=\"error-feedback\" />\n      </div>\n      <!-- Mô tả -->\n      <div class=\"mb-3\">\n        <label for=\"description\" class=\"form-label\">Mô tả</label>\n        <textarea\n          id=\"description\"\n          name=\"description\"\n          type=\"tex\"\n          class=\"form-control description\"\n          v-model=\"product.description\"\n        >\n        </textarea>\n        <ErrorMessage name=\"description\" class=\"error-feedback\" />\n      </div>\n      <div class=\"btnSM\">\n        <button type=\"submit\" class=\"btn btn-primary\">Lưu</button>\n      </div>\n    </Form>\n  </div>\n  <div v-else class=\"emptyType\">\n    Bạn chưa có loại sản phẩm.\n    <router-link :to=\"{ name: 'AdminTypeProduct' }\">\n      <span class=\"textGoToAdminAdd\">Thêm loại sản phẩm</span>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport AdminService from \"@/services/admin.service\";\n\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  // props: {\n  //   product: { type: Object, required: true },\n  // },\n  data() {\n    const productFormSchema = yup.object().shape({\n      name: yup\n        .string()\n        .required(\"Tên phải có giá trị.\")\n        .min(2, \"Tên phải ít nhất 2 ký tự.\")\n        .max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      img: yup.array(),\n      quantity: yup.string().required(\"Tên phải có giá trị.\"),\n      BaPrice: yup\n        .string()\n        .required(\"Không được để trống trường này.\")\n        .min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\")\n        .max(50, \"E-mail tối đa 50 ký tự.\"),\n      PrPrice: yup\n        .string()\n        .required(\"Không được để trống trường này.\")\n        .min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\")\n        .max(50, \"E-mail tối đa 50 ký tự.\"),\n    });\n    return {\n      product: {\n        type: Object,\n        require: true,\n      },\n      productFormSchema,\n      file: [],\n      quantity: [],\n      previousNameFile: [],\n      typeProducts: [],\n    };\n  },\n  computed: {\n    filteredTypeT() {\n      return this.typeProducts;\n    },\n    filteredTypePCount() {\n      return this.filteredTypeT.length;\n    },\n  },\n  methods: {\n    handleFileUpload() {\n      this.file.push(this.$refs.file.files[0].name);\n      this.product.img = this.file;\n      this.previousNameFile = this.file;\n    },\n\n    Type(data) {\n      console.log(data);\n    },\n\n    addType() {\n      this.product.type =\n        this.$refs.type.options[this.$refs.type.selectedIndex].value;\n      console.log(this.product.type);\n    },\n    async createProduct(data) {\n      try {\n        this.$router.push({ name: \"AdminAllProduct\" });\n        await AdminService.create(data);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async retrieveTypeP() {\n      try {\n        this.typeProducts = await AdminService.getAllTypeProducts();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n  mounted() {\n    this.retrieveTypeP();\n  },\n};\n</script>\n\n<style cope>\n@import \"@/assets/css/formProducts.css\";\n\n.emptyType {\n  padding: 24px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}