{"ast":null,"code":"import ContactService from \"@/services/contact.service\";\nexport default {\n  data() {\n    return {\n      products: [],\n      checked: false,\n      courseItemCheckbox: []\n    };\n  },\n\n  computed: {\n    filteredProducts() {\n      return this.products;\n    },\n\n    filteredProductsCount() {\n      return this.filteredProducts.length;\n    }\n\n  },\n  methods: {\n    formatter(data) {\n      const fm = new Intl.NumberFormat(\"vi-VN\", {\n        style: \"currency\",\n        currency: \"VND\",\n        minimumFractionDigits: 0\n      });\n      data = fm.format(data);\n      return data;\n    },\n\n    async deleteAllProduct() {\n      try {\n        await ContactService.deleteAll();\n        this.$refs.form.$el.submit();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async deleteProduct(data) {\n      try {\n        await ContactService.forceDelete(data);\n        this.$refs.form.$el.submit();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async retrieveProducts() {\n      try {\n        this.products = await ContactService.getAll();\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  },\n\n  mounted() {\n    this.retrieveProducts();\n  }\n\n};","map":{"version":3,"mappings":"AAoJA,OAAOA,cAAP,MAA2B,4BAA3B;AAEA,eAAe;EACbC,IAAI,GAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EADL;MAELC,OAAO,EAAE,KAFJ;MAGLC,kBAAkB,EAAE;IAHf,CAAP;EAKD,CAPY;;EAQbC,QAAQ,EAAE;IACRC,gBAAgB,GAAG;MACjB,OAAO,KAAKJ,QAAZ;IACD,CAHO;;IAIRK,qBAAqB,GAAG;MACtB,OAAO,KAAKD,gBAAL,CAAsBE,MAA7B;IACD;;EANO,CARG;EAgBbC,OAAO,EAAE;IACPC,SAAS,CAACT,IAAD,EAAO;MACd,MAAMU,EAAC,GAAI,IAAIC,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;QACxCC,KAAK,EAAE,UADiC;QAExCC,QAAQ,EAAE,KAF8B;QAGxCC,qBAAqB,EAAE;MAHiB,CAA/B,CAAX;MAKAf,IAAG,GAAIU,EAAE,CAACM,MAAH,CAAUhB,IAAV,CAAP;MACA,OAAOA,IAAP;IACD,CATM;;IAUP,MAAMiB,gBAAN,GAAyB;MACvB,IAAI;QACF,MAAMlB,cAAc,CAACmB,SAAf,EAAN;QACA,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,GAAhB,CAAoBC,MAApB;MACF,CAHA,CAGE,OAAOC,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACF;IACD,CAjBM;;IAkBP,MAAMG,aAAN,CAAoB1B,IAApB,EAA0B;MACxB,IAAI;QACF,MAAMD,cAAc,CAAC4B,WAAf,CAA2B3B,IAA3B,CAAN;QACA,KAAKmB,KAAL,CAAWC,IAAX,CAAgBC,GAAhB,CAAoBC,MAApB;MACF,CAHA,CAGE,OAAOC,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACF;IACD,CAzBM;;IA0BP,MAAMK,gBAAN,GAAyB;MACvB,IAAI;QACF,KAAK3B,QAAL,GAAgB,MAAMF,cAAc,CAAC8B,MAAf,EAAtB;MACF,CAFA,CAEE,OAAON,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACF;IACD;;EAhCM,CAhBI;;EAkDbO,OAAO,GAAG;IACR,KAAKF,gBAAL;EACD;;AApDY,CAAf","names":["ContactService","data","products","checked","courseItemCheckbox","computed","filteredProducts","filteredProductsCount","length","methods","formatter","fm","Intl","NumberFormat","style","currency","minimumFractionDigits","format","deleteAllProduct","deleteAll","$refs","form","$el","submit","error","console","log","deleteProduct","forceDelete","retrieveProducts","getAll","mounted"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\components\\AdminAllProduct.vue"],"sourcesContent":["<template>\n  <h3>Tất cả sản phẩm</h3>\n  <div class=\"NoEmpty\" v-if=\"filteredProductsCount > 0\">\n    <form class=\"mt-4\" name=\"container-form\">\n      <table class=\"table\">\n        <thead>\n          <tr class=\"header_allProduct\">\n            <!-- <th scope=\"col\" colspan=\"2\">#</th> -->\n            <th scope=\"col\" class=\"allProduct_sp\">Sản phẩm</th>\n            <th scope=\"col\">Kho</th>\n            <th scope=\"col\">Giá Gốc</th>\n            <th scope=\"col\">Giá Khuyết Mãi</th>\n          </tr>\n        </thead>\n        <tbody class=\"body_allProduct\">\n          <tr v-for=\"(product, item) in filteredProducts\" :key=\"item\">\n            <td>{{ product.name }}</td>\n            <td>{{ product.quantity }}</td>\n            <td>{{ formatter(`${product.BaPrice}`) }}</td>\n            <td>{{ formatter(`${product.PrPrice}`) }}</td>\n            <td>\n              <router-link\n                :to=\"{\n                  name: 'AdminEditProduct',\n                  params: { id: product._id },\n                }\"\n              >\n                <button class=\"btns button_update\">Sửa</button>\n              </router-link>\n            </td>\n            <td>\n              <button\n                class=\"btns button_delete\"\n                data-bs-toggle=\"modal\"\n                data-bs-target=\"#delete-cousre-Modal\"\n                v-on:click.prevent\n              >\n                Xóa\n              </button>\n              <!-- {{!-- comfirm delete course--}} -->\n              <div\n                class=\"modal fade\"\n                id=\"delete-cousre-Modal\"\n                tabindex=\"-1\"\n                aria-labelledby=\"exampleModalLabel\"\n                aria-hidden=\"true\"\n              >\n                <div class=\"modal-dialog\">\n                  <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                      <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n                        Xóa sản phẩm\n                      </h5>\n                      <button\n                        type=\"button\"\n                        class=\"btn-close\"\n                        data-bs-dismiss=\"modal\"\n                        aria-label=\"Close\"\n                      ></button>\n                    </div>\n                    <div class=\"modal-body\">\n                      Bạn có muốn xóa sản phẩm đang chọn?\n                    </div>\n                    <div class=\"modal-footer\">\n                      <button\n                        ref=\"form\"\n                        id=\"btn-delete-course\"\n                        class=\"btns button_comfirm\"\n                        @click=\"deleteProduct(`${product._id}`)\"\n                      >\n                        Xác nhận\n                      </button>\n                      <button\n                        type=\"button\"\n                        class=\"btns button_update\"\n                        data-bs-dismiss=\"modal\"\n                      >\n                        Hủy\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <div class=\"deleteAll\">\n        <div\n          class=\"btns button_delete_all\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#delete-productAll-Modal\"\n          v-on:click.prevent\n        >\n          Xóa tất cả sản phẩm\n        </div>\n        <!-- {{!-- comfirm delete course--}} -->\n        <div\n          class=\"modal fade\"\n          id=\"delete-productAll-Modal\"\n          tabindex=\"-1\"\n          aria-labelledby=\"exampleModalLabel\"\n          aria-hidden=\"true\"\n        >\n          <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n              <div class=\"modal-header\">\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Xóa sản phẩm</h5>\n                <button\n                  type=\"button\"\n                  class=\"btn-close\"\n                  data-bs-dismiss=\"modal\"\n                  aria-label=\"Close\"\n                ></button>\n              </div>\n              <div class=\"modal-body\">Bạn có muốn xóa tất cả sản phẩm?</div>\n              <div class=\"modal-footer\">\n                <button\n                  ref=\"form\"\n                  id=\"btn-delete-course\"\n                  class=\"btns button_comfirm\"\n                  @click=\"deleteAllProduct\"\n                >\n                  Xác nhận\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btns button_update\"\n                  data-bs-dismiss=\"modal\"\n                >\n                  Hủy\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div v-else class=\"emptyProduct\">\n    Bạn chưa có sản phẩm nào.\n    <router-link :to=\"{ name: 'AdminAdd' }\">\n      <span class=\"textGoToAdminAdd\">Thêm sản phẩm</span>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport ContactService from \"@/services/contact.service\";\n\nexport default {\n  data() {\n    return {\n      products: [],\n      checked: false,\n      courseItemCheckbox: [],\n    };\n  },\n  computed: {\n    filteredProducts() {\n      return this.products;\n    },\n    filteredProductsCount() {\n      return this.filteredProducts.length;\n    },\n  },\n  methods: {\n    formatter(data) {\n      const fm = new Intl.NumberFormat(\"vi-VN\", {\n        style: \"currency\",\n        currency: \"VND\",\n        minimumFractionDigits: 0,\n      });\n      data = fm.format(data);\n      return data;\n    },\n    async deleteAllProduct() {\n      try {\n        await ContactService.deleteAll();\n        this.$refs.form.$el.submit();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async deleteProduct(data) {\n      try {\n        await ContactService.forceDelete(data);\n        this.$refs.form.$el.submit();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async retrieveProducts() {\n      try {\n        this.products = await ContactService.getAll();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n  mounted() {\n    this.retrieveProducts();\n  },\n};\n</script>\n\n<style cope>\n.mt-4 {\n  width: 100%;\n}\n\n.tm {\n  height: 40px;\n  margin-bottom: 24px;\n  align-items: center;\n}\n\n.checkbox-select-all-options {\n  width: 150px;\n  margin: 24px;\n}\n\n.body_allProduct td:not(td:first-child) {\n  text-align: center;\n}\n\n.allProduct_sp {\n  width: 480px;\n}\n\n.btns {\n  -webkit-transition-duration: 0.4s; /* Safari */\n  transition-duration: 0.4s;\n  font-weight: 600;\n}\n\n.btns.button_delete {\n  border: 2px solid crimson;\n  background-color: crimson;\n  color: white;\n}\n\n.btns.button_update {\n  border: 2px solid var(--backg);\n  color: #000;\n  background-color: var(--backg);\n}\n\n.btns.button_comfirm {\n  border: 3px solid var(--backg);\n  background-color: transparent;\n}\n\n.btns:hover {\n  opacity: 0.8;\n}\n\n.modal.show .modal-dialog {\n  display: flex;\n  justify-content: center;\n  top: 35%;\n}\n\n.modal-content {\n  width: 360px;\n}\n\n.deleteAll {\n  margin-top: 24px;\n  text-align: right;\n}\n\n.fade {\n  text-align: center;\n}\n\n.button_delete_all {\n  font-size: 1.2rem;\n  font-weight: 700;\n  cursor: pointer;\n  color: var(--text-color);\n  text-decoration: underline;\n}\n\n.emptyProduct {\n  font-size: 1.4rem;\n  padding: 24px 0;\n}\n\n.textGoToAdminAdd {\n  font-weight: 600;\n  color: var(--text-color);\n  text-decoration: underline;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}