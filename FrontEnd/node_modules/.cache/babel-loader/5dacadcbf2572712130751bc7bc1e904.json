{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage\n  },\n  props: {\n    product: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data() {\n    const productFormSchema = yup.object().shape({\n      name: yup.string().required(\"Tên phải có giá trị.\").min(2, \"Tên phải ít nhất 2 ký tự.\").max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      img: yup.array(),\n      color: yup.string().required(\"Không được để trống trường này.\"),\n      price: yup.string().email(\"Không được để trống trường này.\").min(2, \"Tên phải ít nhất 2 ký tự.\").max(50, \"E-mail tối đa 50 ký tự.\")\n    });\n    return {\n      // Chúng ta sẽ không muốn hiệu chỉnh props, nên tạo biến cục bộ\n      // để liên kết với các input trên form\n      productLocal: this.product,\n      productFormSchema,\n      file: [],\n      colors: [],\n      previousNameFile: [],\n      isInputNotNull: true\n    };\n  },\n\n  methods: {\n    handleFileUpload() {\n      this.file.push(this.$refs.file.files[0].name);\n      this.productLocal.img = this.file;\n      this.previousNameFile = this.file;\n      console.log(this.file);\n      console.log(this.productLocal);\n      console.log(this.previousNameFile);\n      console.log(this.previousNameFile.length);\n    },\n\n    eventColor() {\n      // this.colors.push(this.productLocal.color);\n      // console.log(this.colors);\n      if (this.productLocal.color) {\n        this.isInputNotNull = true;\n      } else {\n        this.isInputNotNull = false;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA2HA,OAAO,KAAKA,GAAZ,MAAqB,KAArB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,YAAtB,QAA0C,cAA1C;AACA,eAAe;EACbC,UAAU,EAAE;IACVH,IADU;IAEVC,KAFU;IAGVC;EAHU,CADC;EAMbE,KAAK,EAAE;IACLC,OAAO,EAAE;MAAEC,IAAI,EAAEC,MAAR;MAAgBC,QAAQ,EAAE;IAA1B;EADJ,CANM;;EASbC,IAAI,GAAG;IACL,MAAMC,iBAAgB,GAAIX,GAAG,CAACY,MAAJ,GAAaC,KAAb,CAAmB;MAC3CC,IAAI,EAAEd,GAAE,CACLe,MADG,GAEHN,QAFG,CAEM,sBAFN,EAGHO,GAHG,CAGC,CAHD,EAGI,2BAHJ,EAIHC,GAJG,CAIC,GAJD,EAIM,8BAJN,CADqC;MAM3CC,GAAG,EAAElB,GAAG,CAACmB,KAAJ,EANsC;MAO3CC,KAAK,EAAEpB,GAAG,CAACe,MAAJ,GAAaN,QAAb,CAAsB,iCAAtB,CAPoC;MAQ3CY,KAAK,EAAErB,GAAE,CACNe,MADI,GAEJO,KAFI,CAEE,iCAFF,EAGJN,GAHI,CAGA,CAHA,EAGG,2BAHH,EAIJC,GAJI,CAIA,EAJA,EAII,yBAJJ;IARoC,CAAnB,CAA1B;IAcA,OAAO;MACL;MACA;MACAM,YAAY,EAAE,KAAKjB,OAHd;MAILK,iBAJK;MAKLa,IAAI,EAAE,EALD;MAMLC,MAAM,EAAE,EANH;MAOLC,gBAAgB,EAAE,EAPb;MAQLC,cAAc,EAAE;IARX,CAAP;EAUD,CAlCY;;EAmCbC,OAAO,EAAE;IACPC,gBAAgB,GAAG;MACjB,KAAKL,IAAL,CAAUM,IAAV,CAAe,KAAKC,KAAL,CAAWP,IAAX,CAAgBQ,KAAhB,CAAsB,CAAtB,EAAyBlB,IAAxC;MACA,KAAKS,YAAL,CAAkBL,GAAlB,GAAwB,KAAKM,IAA7B;MACA,KAAKE,gBAAL,GAAwB,KAAKF,IAA7B;MACAS,OAAO,CAACC,GAAR,CAAY,KAAKV,IAAjB;MACAS,OAAO,CAACC,GAAR,CAAY,KAAKX,YAAjB;MACAU,OAAO,CAACC,GAAR,CAAY,KAAKR,gBAAjB;MACAO,OAAO,CAACC,GAAR,CAAY,KAAKR,gBAAL,CAAsBS,MAAlC;IACD,CATM;;IAUPC,UAAU,GAAG;MACX;MACA;MACA,IAAI,KAAKb,YAAL,CAAkBH,KAAtB,EAA6B;QAC3B,KAAKO,cAAL,GAAsB,IAAtB;MACF,CAFA,MAEO;QACL,KAAKA,cAAL,GAAsB,KAAtB;MACF;IACD;;EAlBM;AAnCI,CAAf","names":["yup","Form","Field","ErrorMessage","components","props","product","type","Object","required","data","productFormSchema","object","shape","name","string","min","max","img","array","color","price","email","productLocal","file","colors","previousNameFile","isInputNotNull","methods","handleFileUpload","push","$refs","files","console","log","length","eventColor"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\components\\AdminAdd.vue"],"sourcesContent":["<template>\n  <Form\n    @submit=\"$emit('submit:product', productLocal)\"\n    :validation-schema=\"productFormSchema\"\n  >\n    <!-- Tên sản phẩm -->\n    <div class=\"mb-3\">\n      <label for=\"name\" class=\"form-label\">Tên sản phẩm</label>\n      <Field\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"productLocal.name\"\n      />\n      <ErrorMessage name=\"name\" class=\"error-feedback\" />\n    </div>\n    <!-- Hình -->\n    <div class=\"mb-3\">\n      <label for=\"img\" class=\"form-label\">Hình Ảnh</label>\n      <input\n        id=\"img\"\n        name=\"img\"\n        type=\"file\"\n        @change=\"handleFileUpload\"\n        @click=\"handleFileName\"\n        ref=\"file\"\n        class=\"form-control\"\n        multiple\n      />\n      <div class=\"sumImg\" v-if=\"previousNameFile.length > 0\">\n        <div\n          class=\"FileNameItem\"\n          v-for=\"(FileName, index) in previousNameFile\"\n          :key=\"index\"\n        >\n          {{ FileName }}\n        </div>\n      </div>\n      <ErrorMessage name=\"img\" class=\"error-feedback\" />\n    </div>\n    <!-- Màu sắc -->\n    <div class=\"mb-3\">\n      <label for=\"color\" class=\"form-label\">Màu sắc</label>\n      <Field\n        id=\"color\"\n        name=\"color\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"productLocal.color\"\n        ref=\"color\"\n        value=\"productLocal.color\"\n        @keyup=\"eventColor\"\n      />\n      <ErrorMessage name=\"color\" class=\"error-feedback\" />\n    </div>\n    <div v-if=\"isInputNotNull\">\n      <!-- Size -->\n      <div class=\"mb-3\">\n        <label for=\"size\" class=\"form-label\">Size</label>\n        <div class=\"categorySize\">\n          <div class=\"categorySizeItem\">\n            <input name=\"size\" type=\"checkbox\" class=\"\" value=\"S\" /> S\n          </div>\n          <div class=\"categorySizeItem\">\n            <input name=\"size\" type=\"checkbox\" class=\"\" value=\"M\" /> M\n          </div>\n          <div class=\"categorySizeItem\">\n            <input name=\"size\" type=\"checkbox\" class=\"\" value=\"XL\" /> XL\n          </div>\n          <div class=\"categorySizeItem\">\n            <input name=\"size\" type=\"checkbox\" class=\"\" value=\"XXL\" /> XXL\n          </div>\n        </div>\n        <ErrorMessage name=\"size\" class=\"error-feedback\" />\n      </div>\n      <!-- Số lượng -->\n      <div class=\"mb-3\">\n        <label for=\"quantity\" class=\"form-label\">Số lượng</label>\n        <Field\n          id=\"quantity\"\n          name=\"quantity\"\n          type=\"text\"\n          class=\"form-control\"\n          v-model=\"productLocal.quantity\"\n        />\n        <ErrorMessage name=\"quantity\" class=\"error-feedback\" />\n      </div>\n      <div class=\"add_color\">\n        <span>Thêm màu</span>\n      </div>\n    </div>\n    <!-- Giá -->\n    <div class=\"mb-3\">\n      <label for=\"BaPrice\" class=\"form-label\">Giá Gốc</label>\n      <Field\n        id=\"BaPrice\"\n        name=\"BaPrice\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"productLocal.BaPrice\"\n      />\n      <ErrorMessage name=\"price\" class=\"error-feedback\" />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"PrPrice\" class=\"form-label\">Giá Khuyến Mãi</label>\n      <Field\n        id=\"PrPrice\"\n        name=\"PrPrice\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"productLocal.PrPrice\"\n      />\n      <ErrorMessage name=\"price\" class=\"error-feedback\" />\n    </div>\n    <div class=\"btnSM\">\n      <button type=\"submit\" class=\"btn btn-primary\">Lưu</button>\n    </div>\n  </Form>\n  <!-- </div> -->\n</template>\n\n<script>\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  props: {\n    product: { type: Object, required: true },\n  },\n  data() {\n    const productFormSchema = yup.object().shape({\n      name: yup\n        .string()\n        .required(\"Tên phải có giá trị.\")\n        .min(2, \"Tên phải ít nhất 2 ký tự.\")\n        .max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      img: yup.array(),\n      color: yup.string().required(\"Không được để trống trường này.\"),\n      price: yup\n        .string()\n        .email(\"Không được để trống trường này.\")\n        .min(2, \"Tên phải ít nhất 2 ký tự.\")\n        .max(50, \"E-mail tối đa 50 ký tự.\"),\n    });\n    return {\n      // Chúng ta sẽ không muốn hiệu chỉnh props, nên tạo biến cục bộ\n      // để liên kết với các input trên form\n      productLocal: this.product,\n      productFormSchema,\n      file: [],\n      colors: [],\n      previousNameFile: [],\n      isInputNotNull: true,\n    };\n  },\n  methods: {\n    handleFileUpload() {\n      this.file.push(this.$refs.file.files[0].name);\n      this.productLocal.img = this.file;\n      this.previousNameFile = this.file;\n      console.log(this.file);\n      console.log(this.productLocal);\n      console.log(this.previousNameFile);\n      console.log(this.previousNameFile.length);\n    },\n    eventColor() {\n      // this.colors.push(this.productLocal.color);\n      // console.log(this.colors);\n      if (this.productLocal.color) {\n        this.isInputNotNull = true;\n      } else {\n        this.isInputNotNull = false;\n      }\n    },\n  },\n};\n</script>\n\n<style cope>\n.categorySize {\n  display: flex;\n}\n\n.categorySizeItem {\n  padding-right: 60px;\n}\n.sumImg {\n  padding: 12px 0;\n}\n\n.FileNameItem {\n  color: #000;\n  padding: 6px 0;\n}\n.error-feedback {\n  color: rgb(255, 0, 0);\n}\n\n.btnSM {\n  text-align: right;\n  padding: 0 12px;\n}\n\n.btn-primary {\n  padding: 12px 24px;\n}\n\n.add_color {\n  text-align: right;\n  padding: 0 35px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}