{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport AppLogin from \"../components/AppLogin.vue\";\nimport AccountService from \"@/services/account.service\";\nexport default {\n  components: {\n    AppLogin\n  },\n\n  data() {\n    return {\n      account: {\n        type: Object,\n        require: true\n      },\n      err: false\n    };\n  },\n\n  methods: {\n    setCookie(cname, cvalue, exdays) {\n      const d = new Date();\n      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n      let expires = \"expires=\" + d.toUTCString();\n      document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n    },\n\n    getCookie(cname) {\n      let name = cname + \"=\";\n      let decodedCookie = decodeURIComponent(document.cookie);\n      let ca = decodedCookie.split(\";\");\n\n      for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n\n        while (c.charAt(0) == \" \") {\n          c = c.substring(1);\n        }\n\n        if (c.indexOf(name) == 0) {\n          return c.substring(name.length, c.length);\n        }\n      }\n\n      return \"\";\n    },\n\n    async LoginAccount(data) {\n      try {\n        this.setCookie(\"token\", data.token, 1);\n        const s = await AccountService.loginAccount(data);\n\n        if (s) {\n          this.$router.push({\n            name: \"home\"\n          });\n        } else {\n          this.err = true;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAaA,OAAOA,QAAP,MAAqB,4BAArB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AAEA,eAAe;EACbC,UAAU,EAAE;IACVF;EADU,CADC;;EAIbG,IAAI,GAAG;IACL,OAAO;MACLC,OAAO,EAAE;QACPC,IAAI,EAAEC,MADC;QAEPC,OAAO,EAAE;MAFF,CADJ;MAKLC,GAAG,EAAE;IALA,CAAP;EAOD,CAZY;;EAabC,OAAO,EAAE;IACPC,SAAS,CAACC,KAAD,EAAQC,MAAR,EAAgBC,MAAhB,EAAwB;MAC/B,MAAMC,IAAI,IAAIC,IAAJ,EAAV;MACAD,CAAC,CAACE,OAAF,CAAUF,CAAC,CAACG,OAAF,KAAcJ,MAAK,GAAI,EAAT,GAAc,EAAd,GAAmB,EAAnB,GAAwB,IAAhD;MACA,IAAIK,OAAM,GAAI,aAAaJ,CAAC,CAACK,WAAF,EAA3B;MACAC,QAAQ,CAACC,MAAT,GAAkBV,KAAI,GAAI,GAAR,GAAcC,MAAd,GAAuB,GAAvB,GAA6BM,OAA7B,GAAuC,SAAzD;IACD,CANM;;IAOPI,SAAS,CAACX,KAAD,EAAQ;MACf,IAAIY,IAAG,GAAIZ,KAAI,GAAI,GAAnB;MACA,IAAIa,aAAY,GAAIC,kBAAkB,CAACL,QAAQ,CAACC,MAAV,CAAtC;MACA,IAAIK,EAAC,GAAIF,aAAa,CAACG,KAAd,CAAoB,GAApB,CAAT;;MACA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,EAAE,CAACG,MAAvB,EAA+BD,CAAC,EAAhC,EAAoC;QAClC,IAAIE,IAAIJ,EAAE,CAACE,CAAD,CAAV;;QACA,OAAOE,CAAC,CAACC,MAAF,CAAS,CAAT,KAAe,GAAtB,EAA2B;UACzBD,IAAIA,CAAC,CAACE,SAAF,CAAY,CAAZ,CAAJ;QACF;;QACA,IAAIF,CAAC,CAACG,OAAF,CAAUV,IAAV,KAAmB,CAAvB,EAA0B;UACxB,OAAOO,CAAC,CAACE,SAAF,CAAYT,IAAI,CAACM,MAAjB,EAAyBC,CAAC,CAACD,MAA3B,CAAP;QACF;MACF;;MACA,OAAO,EAAP;IACD,CArBM;;IAsBP,MAAMK,YAAN,CAAmB/B,IAAnB,EAAyB;MACvB,IAAI;QACF,KAAKO,SAAL,CAAe,OAAf,EAAwBP,IAAI,CAACgC,KAA7B,EAAoC,CAApC;QACA,MAAMC,IAAI,MAAMnC,cAAc,CAACoC,YAAf,CAA4BlC,IAA5B,CAAhB;;QACA,IAAIiC,CAAJ,EAAO;UACL,KAAKE,OAAL,CAAaC,IAAb,CAAkB;YAAEhB,IAAI,EAAE;UAAR,CAAlB;QACF,CAFA,MAEO;UACL,KAAKf,GAAL,GAAW,IAAX;QACF;MACF,CARA,CAQE,OAAOgC,KAAP,EAAc;QACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACF;IACD;;EAlCM;AAbI,CAAf","names":["AppLogin","AccountService","components","data","account","type","Object","require","err","methods","setCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","cookie","getCookie","name","decodedCookie","decodeURIComponent","ca","split","i","length","c","charAt","substring","indexOf","LoginAccount","token","s","loginAccount","$router","push","error","console","log"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"js-center\">\n      <app-login :account=\"account\" @submit:account=\"LoginAccount\">\n        <div class=\"err\" v-if=\"err\">\n          Tên đăng nhập hoặc mật khẩu không khớp, vui lòng nhập lại.\n        </div>\n      </app-login>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppLogin from \"../components/AppLogin.vue\";\nimport AccountService from \"@/services/account.service\";\n\nexport default {\n  components: {\n    AppLogin,\n  },\n  data() {\n    return {\n      account: {\n        type: Object,\n        require: true,\n      },\n      err: false,\n    };\n  },\n  methods: {\n    setCookie(cname, cvalue, exdays) {\n      const d = new Date();\n      d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n      let expires = \"expires=\" + d.toUTCString();\n      document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n    },\n    getCookie(cname) {\n      let name = cname + \"=\";\n      let decodedCookie = decodeURIComponent(document.cookie);\n      let ca = decodedCookie.split(\";\");\n      for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == \" \") {\n          c = c.substring(1);\n        }\n        if (c.indexOf(name) == 0) {\n          return c.substring(name.length, c.length);\n        }\n      }\n      return \"\";\n    },\n    async LoginAccount(data) {\n      try {\n        this.setCookie(\"token\", data.token, 1);\n        const s = await AccountService.loginAccount(data);\n        if (s) {\n          this.$router.push({ name: \"home\" });\n        } else {\n          this.err = true;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.container {\n  display: flex;\n  justify-content: center;\n  margin-top: 12px;\n}\n\n.js-center {\n  width: 380px;\n  /* text-align: center; */\n}\n\n.err {\n  font-size: 0.9rem;\n  color: rgb(255, 0, 0);\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}