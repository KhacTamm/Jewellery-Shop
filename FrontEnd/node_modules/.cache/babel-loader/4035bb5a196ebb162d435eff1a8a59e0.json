{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport ContactService from \"@/services/contact.service\";\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage\n  },\n\n  // props: {\n  //   product: { type: Object, required: true },\n  // },\n  data() {\n    const productFormSchema = yup.object().shape({\n      name: yup.string().required(\"Tên phải có giá trị.\").min(2, \"Tên phải ít nhất 2 ký tự.\").max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      img: yup.array(),\n      quantity: yup.string().required(\"Tên phải có giá trị.\"),\n      BaPrice: yup.string().required(\"Không được để trống trường này.\").min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\").max(50, \"E-mail tối đa 50 ký tự.\"),\n      PrPrice: yup.string().required(\"Không được để trống trường này.\").min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\").max(50, \"E-mail tối đa 50 ký tự.\")\n    });\n    return {\n      product: {\n        type: Object,\n        require: true\n      },\n      // productLocal: this.product,\n      productFormSchema,\n      file: [],\n      quantity: [],\n      previousNameFile: []\n    };\n  },\n\n  methods: {\n    handleFileUpload() {\n      this.file.push(this.$refs.file.files[0].name);\n      this.product.img = this.file;\n      this.previousNameFile = this.file;\n      console.log(this.file);\n      console.log(this.product);\n      console.log(this.previousNameFile);\n      console.log(this.previousNameFile.length);\n    },\n\n    addType() {\n      this.product.type = this.$refs.type.options[this.$refs.type.selectedIndex].text;\n    },\n\n    async createProduct(data) {\n      try {\n        this.$router.push({\n          name: \"AdminAllProduct\"\n        });\n        await ContactService.create(data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAkJA,OAAO,KAAKA,GAAZ,MAAqB,KAArB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,YAAtB,QAA0C,cAA1C;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AAEA,eAAe;EACbC,UAAU,EAAE;IACVJ,IADU;IAEVC,KAFU;IAGVC;EAHU,CADC;;EAMb;EACA;EACA;EACAG,IAAI,GAAG;IACL,MAAMC,iBAAgB,GAAIP,GAAG,CAACQ,MAAJ,GAAaC,KAAb,CAAmB;MAC3CC,IAAI,EAAEV,GAAE,CACLW,MADG,GAEHC,QAFG,CAEM,sBAFN,EAGHC,GAHG,CAGC,CAHD,EAGI,2BAHJ,EAIHC,GAJG,CAIC,GAJD,EAIM,8BAJN,CADqC;MAM3CC,GAAG,EAAEf,GAAG,CAACgB,KAAJ,EANsC;MAO3CC,QAAQ,EAAEjB,GAAG,CAACW,MAAJ,GAAaC,QAAb,CAAsB,sBAAtB,CAPiC;MAQ3CM,OAAO,EAAElB,GAAE,CACRW,MADM,GAENC,QAFM,CAEG,iCAFH,EAGNC,GAHM,CAGF,CAHE,EAGC,2CAHD,EAINC,GAJM,CAIF,EAJE,EAIE,yBAJF,CARkC;MAa3CK,OAAO,EAAEnB,GAAE,CACRW,MADM,GAENC,QAFM,CAEG,iCAFH,EAGNC,GAHM,CAGF,CAHE,EAGC,2CAHD,EAINC,GAJM,CAIF,EAJE,EAIE,yBAJF;IAbkC,CAAnB,CAA1B;IAmBA,OAAO;MACLM,OAAO,EAAE;QACPC,IAAI,EAAEC,MADC;QAEPC,OAAO,EAAE;MAFF,CADJ;MAKL;MACAhB,iBANK;MAOLiB,IAAI,EAAE,EAPD;MAQLP,QAAQ,EAAE,EARL;MASLQ,gBAAgB,EAAE;IATb,CAAP;EAWD,CAxCY;;EAyCbC,OAAO,EAAE;IACPC,gBAAgB,GAAG;MACjB,KAAKH,IAAL,CAAUI,IAAV,CAAe,KAAKC,KAAL,CAAWL,IAAX,CAAgBM,KAAhB,CAAsB,CAAtB,EAAyBpB,IAAxC;MACA,KAAKU,OAAL,CAAaL,GAAb,GAAmB,KAAKS,IAAxB;MACA,KAAKC,gBAAL,GAAwB,KAAKD,IAA7B;MACAO,OAAO,CAACC,GAAR,CAAY,KAAKR,IAAjB;MACAO,OAAO,CAACC,GAAR,CAAY,KAAKZ,OAAjB;MACAW,OAAO,CAACC,GAAR,CAAY,KAAKP,gBAAjB;MACAM,OAAO,CAACC,GAAR,CAAY,KAAKP,gBAAL,CAAsBQ,MAAlC;IACD,CATM;;IAUPC,OAAO,GAAG;MACR,KAAKd,OAAL,CAAaC,IAAb,GACE,KAAKQ,KAAL,CAAWR,IAAX,CAAgBc,OAAhB,CAAwB,KAAKN,KAAL,CAAWR,IAAX,CAAgBe,aAAxC,EAAuDC,IADzD;IAED,CAbM;;IAcP,MAAMC,aAAN,CAAoBhC,IAApB,EAA0B;MACxB,IAAI;QACF,KAAKiC,OAAL,CAAaX,IAAb,CAAkB;UAAElB,IAAI,EAAE;QAAR,CAAlB;QACA,MAAMN,cAAc,CAACoC,MAAf,CAAsBlC,IAAtB,CAAN;MACF,CAHA,CAGE,OAAOmC,KAAP,EAAc;QACdV,OAAO,CAACC,GAAR,CAAYS,KAAZ;MACF;IACD;;EArBM;AAzCI,CAAf","names":["yup","Form","Field","ErrorMessage","ContactService","components","data","productFormSchema","object","shape","name","string","required","min","max","img","array","quantity","BaPrice","PrPrice","product","type","Object","require","file","previousNameFile","methods","handleFileUpload","push","$refs","files","console","log","length","addType","options","selectedIndex","text","createProduct","$router","create","error"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\components\\AdminAdd.vue"],"sourcesContent":["<template>\n  <h3>Thêm sản phẩm</h3>\n  <Form @submit=\"createProduct(product)\" :validation-schema=\"productFormSchema\">\n    <div class=\"mb-3 type\">\n      <label for=\"type\" class=\"form-label\">Phân loại</label>\n      <select\n        class=\"form-select form-select-sm checkbox-select-all-options\"\n        name=\"action\"\n        @click=\"addType\"\n        required\n        ref=\"type\"\n      >\n        <option value=\"1\">Bông tai</option>\n        <option value=\"2\">Nhẫn</option>\n        <option value=\"3\">Vòng tay</option>\n        <option value=\"4\">Dây chuyền</option>\n      </select>\n    </div>\n    <!-- Thương hiệu -->\n    <div class=\"mb-3\">\n      <label for=\"brand\" class=\"form-label\">Tên thương hiệu</label>\n      <Field\n        id=\"brand\"\n        name=\"brand\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.brand\"\n      />\n      <ErrorMessage name=\"brand\" class=\"error-feedback\" />\n    </div>\n    <!-- Tên sản phẩm -->\n    <div class=\"mb-3\">\n      <label for=\"name\" class=\"form-label\">Tên sản phẩm</label>\n      <Field\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.name\"\n      />\n      <ErrorMessage name=\"name\" class=\"error-feedback\" />\n    </div>\n    <!-- Hình -->\n    <div class=\"mb-3\">\n      <label for=\"img\" class=\"form-label\">Hình Ảnh</label>\n      <input\n        id=\"img\"\n        name=\"img\"\n        type=\"file\"\n        @change=\"handleFileUpload\"\n        @click=\"handleFileName\"\n        ref=\"file\"\n        class=\"form-control\"\n        multiple\n      />\n      <div class=\"sumImg\" v-if=\"previousNameFile.length > 0\">\n        <div\n          class=\"FileNameItem\"\n          v-for=\"(FileName, index) in previousNameFile\"\n          :key=\"index\"\n        >\n          {{ FileName }}\n        </div>\n      </div>\n      <ErrorMessage name=\"img\" class=\"error-feedback\" />\n    </div>\n    <!-- Chất Liệu < -->\n    <div class=\"mb-3\">\n      <label for=\"material\" class=\"form-label\">Chất Liệu</label>\n      <Field\n        id=\"material\"\n        name=\"material\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.material\"\n      />\n      <ErrorMessage name=\"name\" class=\"error-feedback\" />\n    </div>\n    <!-- Phong cách -->\n    <div class=\"mb-3\">\n      <label for=\"name\" class=\"form-label\">Phong cách</label>\n      <Field\n        id=\"style\"\n        name=\"style\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.style\"\n      />\n      <ErrorMessage name=\"style\" class=\"error-feedback\" />\n    </div>\n    <!-- Số lượng -->\n    <div class=\"mb-3\">\n      <label for=\"quantity\" class=\"form-label\">Số lượng</label>\n      <Field\n        id=\"quantity\"\n        name=\"quantity\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.quantity\"\n      />\n      <ErrorMessage name=\"quantity\" class=\"error-feedback\" />\n    </div>\n    <!-- Giá -->\n    <div class=\"mb-3\">\n      <label for=\"BaPrice\" class=\"form-label\">Giá Gốc</label>\n      <Field\n        id=\"BaPrice\"\n        name=\"BaPrice\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.BaPrice\"\n      />\n      <ErrorMessage name=\"BaPrice\" class=\"error-feedback\" />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"PrPrice\" class=\"form-label\">Giá Khuyến Mãi</label>\n      <Field\n        id=\"PrPrice\"\n        name=\"PrPrice\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.PrPrice\"\n      />\n      <ErrorMessage name=\"PrPrice\" class=\"error-feedback\" />\n    </div>\n    <!-- Mô tả -->\n    <div class=\"mb-3 description\">\n      <label for=\"description\" class=\"form-label\">Mô tả</label>\n      <textarea\n        id=\"description\"\n        name=\"description\"\n        type=\"tex\"\n        class=\"form-control\"\n        v-model=\"product.description\"\n      >\n      </textarea>\n      <ErrorMessage name=\"description\" class=\"error-feedback\" />\n    </div>\n    <div class=\"btnSM\">\n      <button type=\"submit\" class=\"btn btn-primary\">Lưu</button>\n    </div>\n  </Form>\n  <!-- </div> -->\n</template>\n\n<script>\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport ContactService from \"@/services/contact.service\";\n\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  // props: {\n  //   product: { type: Object, required: true },\n  // },\n  data() {\n    const productFormSchema = yup.object().shape({\n      name: yup\n        .string()\n        .required(\"Tên phải có giá trị.\")\n        .min(2, \"Tên phải ít nhất 2 ký tự.\")\n        .max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      img: yup.array(),\n      quantity: yup.string().required(\"Tên phải có giá trị.\"),\n      BaPrice: yup\n        .string()\n        .required(\"Không được để trống trường này.\")\n        .min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\")\n        .max(50, \"E-mail tối đa 50 ký tự.\"),\n      PrPrice: yup\n        .string()\n        .required(\"Không được để trống trường này.\")\n        .min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\")\n        .max(50, \"E-mail tối đa 50 ký tự.\"),\n    });\n    return {\n      product: {\n        type: Object,\n        require: true,\n      },\n      // productLocal: this.product,\n      productFormSchema,\n      file: [],\n      quantity: [],\n      previousNameFile: [],\n    };\n  },\n  methods: {\n    handleFileUpload() {\n      this.file.push(this.$refs.file.files[0].name);\n      this.product.img = this.file;\n      this.previousNameFile = this.file;\n      console.log(this.file);\n      console.log(this.product);\n      console.log(this.previousNameFile);\n      console.log(this.previousNameFile.length);\n    },\n    addType() {\n      this.product.type =\n        this.$refs.type.options[this.$refs.type.selectedIndex].text;\n    },\n    async createProduct(data) {\n      try {\n        this.$router.push({ name: \"AdminAllProduct\" });\n        await ContactService.create(data);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n};\n</script>\n\n<style cope>\n.type {\n  display: flex;\n  align-items: center;\n}\n\n.categorySize {\n  display: flex;\n}\n\n.categorySizeItem {\n  padding-right: 60px;\n}\n.sumImg {\n  padding: 12px 0;\n}\n\n.FileNameItem {\n  color: #000;\n  padding: 6px 0;\n}\n.error-feedback {\n  color: rgb(255, 0, 0);\n}\n\n.btnSM {\n  text-align: right;\n  padding: 0 12px;\n}\n\n.btn-primary {\n  padding: 12px 24px;\n}\n\n.add_color {\n  text-align: right;\n  padding: 0 28px;\n  cursor: pointer;\n}\n\n.textarea.form-control {\n  height: 500px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}