{"ast":null,"code":"import { toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_products = _resolveComponent(\"products\");\n\n  return _openBlock(), _createElementBlock(\"div\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.test && $options.test(...args))\n  }, [_createTextVNode(\" vv \" + _toDisplayString(this.SearchText.searchText) + \" \", 1\n  /* TEXT */\n  ), $options.filteredProductsCount > 0 ? (_openBlock(), _createBlock(_component_products, {\n    key: 0,\n    mountproduct: $options.filteredProducts\n  }, null, 8\n  /* PROPS */\n  , [\"mountproduct\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":";;;;uBAEEA,oBAKM,KALN,EAKM;IALAC,OAAK,yCAAEC,uCAAF;EAKL,CALN,oBAAmB,SAEjBC,sBAAQC,UAAR,CAAmBC,UAAnB,CAFiB,GAEe,KAChC;EAAA;KAAgBH,iCAAqB,mBAArCI,aACWC,mBADX,EACW;UAAA;IADiCC,YAAY,EAAEN;EAC/C,CADX;;EAAA,yDAHF","names":["_createElementBlock","onClick","$options","_toDisplayString","SearchText","searchText","_createBlock","_component_products","mountproduct"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\views\\SearchView.vue"],"sourcesContent":["<!-- eslint-disable vue/no-dupe-keys -->\n<template>\n  <div @click=\"test\">\n    vv\n    {{ this.SearchText.searchText }}\n    <products v-if=\"filteredProductsCount > 0\" :mountproduct=\"filteredProducts\">\n    </products>\n  </div>\n</template>\n\n<script>\nimport Products from \"../components/ProductWape.vue\";\nimport { useProductData } from \"@/stores/Products\";\nimport ContactService from \"@/services/contact.service\";\n\nexport default {\n  components: {\n    Products,\n  },\n  data() {\n    return {\n      products: [],\n      activeIndex: -1,\n      SearchText: useProductData(),\n    };\n  },\n  watch: {\n    // SearchText() {\n    //   this.activeIndex = -1;\n    // },\n  },\n  computed: {\n    productStrings() {\n      return this.products.map((product) => {\n        const { type, name } = product;\n        return [type, name].join(\"\").toLowerCase();\n      });\n    },\n    // Trả về các contact có chứa thông tin cần tìm kiếm.\n    filteredProducts() {\n      // if (!this.searchText) return this.products;\n      console.log(this.products);\n      return this.products.filter((contact, index) =>\n        this.productStrings[index].includes(this.SearchText.searchText)\n      );\n    },\n    activeContact() {\n      if (this.activeIndex < 0) return null;\n      return this.products[this.activeIndex];\n    },\n    filteredProductsCount() {\n      return this.filteredProducts.length;\n    },\n  },\n  methods: {\n    test() {\n      // console.log(this.products);\n      console.log(this.SearchText.searchText);\n    },\n    async retrieveContacts() {\n      try {\n        this.products = await ContactService.getAll();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    refreshList() {\n      this.retrieveContacts();\n      this.activeIndex = -1;\n    },\n  },\n  mounted() {\n    this.refreshList();\n  },\n};\n</script>\n\n<style></style>\n"]},"metadata":{},"sourceType":"module"}