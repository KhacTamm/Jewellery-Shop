{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapActions } from \"pinia\";\nimport { useAppStore } from \"@/stores/app.store\";\nimport CartService from \"@/services/cart.service\";\nexport default {\n  props: {\n    _id: {\n      type: String,\n      required: true\n    },\n    name: {\n      type: String,\n      required: true\n    },\n    img: {\n      type: Array,\n      required: true\n    },\n    PrPrice: {\n      type: Number,\n      required: true\n    },\n    BaPrice: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    const formatter = new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\",\n      minimumFractionDigits: 0\n    });\n    return {\n      giakhuyenmai: formatter.format(this.giaKM),\n      giagoc: formatter.format(this.giaG),\n      active: false\n    };\n  },\n\n  methods: { ...mapActions(useAppStore, [\"formatter\", \"isUserLoggedIn\"]),\n\n    async AddCart(id) {\n      if (this.isUserLoggedIn) {\n        await CartService.addCart(id);\n      } else {\n        console.log(\"haha\");\n        this.$router.push({\n          name: \"login\"\n        });\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAoCA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,WAAT,QAA4B,oBAA5B;AACA,OAAOC,WAAP,MAAwB,yBAAxB;AAEA,eAAe;EACbC,KAAK,EAAE;IACLC,GAAG,EAAE;MACHC,IAAI,EAAEC,MADH;MAEHC,QAAQ,EAAE;IAFP,CADA;IAKLC,IAAI,EAAE;MACJH,IAAI,EAAEC,MADF;MAEJC,QAAQ,EAAE;IAFN,CALD;IASLE,GAAG,EAAE;MACHJ,IAAI,EAAEK,KADH;MAEHH,QAAQ,EAAE;IAFP,CATA;IAaLI,OAAO,EAAE;MACPN,IAAI,EAAEO,MADC;MAEPL,QAAQ,EAAE;IAFH,CAbJ;IAiBLM,OAAO,EAAE;MACPR,IAAI,EAAEO,MADC;MAEPL,QAAQ,EAAE;IAFH;EAjBJ,CADM;;EAuBbO,IAAI,GAAG;IACL,MAAMC,SAAQ,GAAI,IAAIC,IAAI,CAACC,YAAT,CAAsB,OAAtB,EAA+B;MAC/CC,KAAK,EAAE,UADwC;MAE/CC,QAAQ,EAAE,KAFqC;MAG/CC,qBAAqB,EAAE;IAHwB,CAA/B,CAAlB;IAKA,OAAO;MACLC,YAAY,EAAEN,SAAS,CAACO,MAAV,CAAiB,KAAKC,KAAtB,CADT;MAELC,MAAM,EAAET,SAAS,CAACO,MAAV,CAAiB,KAAKG,IAAtB,CAFH;MAGLC,MAAM,EAAE;IAHH,CAAP;EAKD,CAlCY;;EAmCbC,OAAO,EAAE,EACP,GAAG3B,UAAU,CAACC,WAAD,EAAc,CAAC,WAAD,EAAc,gBAAd,CAAd,CADN;;IAGP,MAAM2B,OAAN,CAAcC,EAAd,EAAkB;MAChB,IAAI,KAAKC,cAAT,EAAyB;QACvB,MAAM5B,WAAW,CAAC6B,OAAZ,CAAoBF,EAApB,CAAN;MACF,CAFA,MAEO;QACLG,OAAO,CAACC,GAAR,CAAY,MAAZ;QACA,KAAKC,OAAL,CAAaC,IAAb,CAAkB;UAAE3B,IAAI,EAAE;QAAR,CAAlB;MACF;IACD;;EAVM;AAnCI,CAAf","names":["mapActions","useAppStore","CartService","props","_id","type","String","required","name","img","Array","PrPrice","Number","BaPrice","data","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","giakhuyenmai","format","giaKM","giagoc","giaG","active","methods","AddCart","id","isUserLoggedIn","addCart","console","log","$router","push"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\components\\ProductCard.vue"],"sourcesContent":["<template>\n  <div class=\"product\">\n    <div class=\"img\">\n      <router-link\n        :to=\"{ name: 'productdetail', params: { id: _id } }\"\n        class=\"sp_link\"\n      >\n        <img\n          :src=\"`${require('@/assets/img/product/' + img[0])}`\"\n          alt=\"\"\n          class=\"imgproduct\"\n        />\n      </router-link>\n    </div>\n    <div class=\"ttsp\">\n      <div class=\"tensp\">\n        <router-link :to=\"{ name: 'productdetail', params: { id: _id } }\">\n          {{ name }}\n        </router-link>\n      </div>\n      <div class=\"ttg\">\n        <div class=\"gia\">\n          <div class=\"giakm\">{{ formatter(`${PrPrice}`) }}</div>\n          <div class=\"giagoc\">{{ formatter(`${BaPrice}`) }}</div>\n        </div>\n        <!-- <div @click=\"AddCart(_id)\"> -->\n        <a href=\"./cart\" @click.prevent=\"AddCart(_id)\">\n          <i class=\"fa-solid fa-cart-plus\"></i>\n        </a>\n        <!-- </div> -->\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from \"pinia\";\nimport { useAppStore } from \"@/stores/app.store\";\nimport CartService from \"@/services/cart.service\";\n\nexport default {\n  props: {\n    _id: {\n      type: String,\n      required: true,\n    },\n    name: {\n      type: String,\n      required: true,\n    },\n    img: {\n      type: Array,\n      required: true,\n    },\n    PrPrice: {\n      type: Number,\n      required: true,\n    },\n    BaPrice: {\n      type: Number,\n      required: true,\n    },\n  },\n  data() {\n    const formatter = new Intl.NumberFormat(\"vi-VN\", {\n      style: \"currency\",\n      currency: \"VND\",\n      minimumFractionDigits: 0,\n    });\n    return {\n      giakhuyenmai: formatter.format(this.giaKM),\n      giagoc: formatter.format(this.giaG),\n      active: false,\n    };\n  },\n  methods: {\n    ...mapActions(useAppStore, [\"formatter\", \"isUserLoggedIn\"]),\n\n    async AddCart(id) {\n      if (this.isUserLoggedIn) {\n        await CartService.addCart(id);\n      } else {\n        console.log(\"haha\");\n        this.$router.push({ name: \"login\" });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.product {\n  background: #fff;\n  position: relative;\n  overflow: visible;\n  cursor: pointer;\n}\n\n.img {\n  /* position: relative; */\n  height: 250px;\n  width: 100%;\n  margin-bottom: 12px;\n  overflow: hidden;\n}\n\n.imgproduct {\n  /* position: absolute; */\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  transition: all 0.5s ease-in-out;\n}\n\n.imgproduct:hover {\n  filter: brightness(95%);\n  transform: scale(1.2);\n}\n\n.tensp {\n  word-wrap: break-word;\n  white-space: normal;\n  overflow: hidden;\n  display: -webkit-box;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  padding: 0 6px;\n  line-height: 1.6rem;\n  font-size: 0.9rem;\n  height: 55px;\n}\n\n.gia {\n  padding: 6px;\n  font-weight: 700;\n}\n\n.giakm {\n  color: #ff0000;\n}\n\n.giagoc {\n  color: #9e9e9e;\n  padding: 2px 0px;\n  text-decoration: line-through;\n}\n\n.ttg {\n  display: flex;\n  justify-content: space-between;\n}\n\n.fa-cart-plus {\n  padding: 30px 20px 0px 4px;\n  font-size: 1.4rem;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}