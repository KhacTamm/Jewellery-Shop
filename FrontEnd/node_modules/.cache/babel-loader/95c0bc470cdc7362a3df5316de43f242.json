{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, withCtx as _withCtx, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\n\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h3\", null, \"Sửa sản phẩm\", -1\n/* HOISTED */\n);\n\nconst _hoisted_2 = {\n  class: \"mb-3 type\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"type\",\n  class: \"form-label\"\n}, \"Phân loại\", -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  value: \"\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"1\"\n}, \"Bông tai\", -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"2\"\n}, \"Nhẫn\", -1\n/* HOISTED */\n);\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"3\"\n}, \"Vòng tay\", -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"4\"\n}, \"Dây chuyền\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\",\n  class: \"form-label\"\n}, \"Tên sản phẩm\", -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"img\",\n  class: \"form-label\"\n}, \"Hình Ảnh\", -1\n/* HOISTED */\n);\n\nconst _hoisted_13 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"quantity\",\n  class: \"form-label\"\n}, \"Số lượng\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"BaPrice\",\n  class: \"form-label\"\n}, \"Giá Gốc\", -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = {\n  class: \"mb-3\"\n};\n\nconst _hoisted_18 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"PrPrice\",\n  class: \"form-label\"\n}, \"Giá Khuyến Mãi\", -1\n/* HOISTED */\n);\n\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"btnSM\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"Lưu lại\")], -1\n/* HOISTED */\n);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Field = _resolveComponent(\"Field\");\n\n  const _component_ErrorMessage = _resolveComponent(\"ErrorMessage\");\n\n  const _component_Form = _resolveComponent(\"Form\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, _createVNode(_component_Form, {\n    onSubmit: _cache[5] || (_cache[5] = $event => $options.updateProduct($data.product)),\n    \"validation-schema\": $data.productFormSchema\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"select\", {\n      class: \"form-select form-select-sm checkbox-select-all-options\",\n      name: \"action\",\n      onClick: _cache[0] || (_cache[0] = (...args) => $options.addType && $options.addType(...args)),\n      required: \"\",\n      ref: \"type\"\n    }, [_createElementVNode(\"option\", _hoisted_4, _toDisplayString($data.product.type), 1\n    /* TEXT */\n    ), _hoisted_5, _hoisted_6, _hoisted_7, _hoisted_8], 512\n    /* NEED_PATCH */\n    )]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createVNode(_component_Field, {\n      type: \"text\",\n      class: \"form-control\",\n      modelValue: $data.product.name,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.product.name = $event),\n      id: \"name\",\n      name: \"name\"\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_11, [_hoisted_12, _createVNode(_component_Field, {\n      id: \"img\",\n      name: \"img\",\n      type: \"file\",\n      onChange: $options.handleFileUpload,\n      onClick: _ctx.handleFileName,\n      ref: \"file\",\n      class: \"form-control\",\n      multiple: \"\"\n    }, null, 8\n    /* PROPS */\n    , [\"onChange\", \"onClick\"]), _createCommentVNode(\" <div class=\\\"sumImg\\\" v-if=\\\"previousNameFile.length > 0\\\">\\n        <div\\n          class=\\\"FileNameItem\\\"\\n          v-for=\\\"(FileName, index) in previousNameFile\\\"\\n          :key=\\\"index\\\"\\n        > \"), _createCommentVNode(\" {{ FileName }} \"), _createCommentVNode(\" </div> \"), _createCommentVNode(\" </div> \"), _createCommentVNode(\" <ErrorMessage name=\\\"img\\\" class=\\\"error-feedback\\\" /> \")]), _createCommentVNode(\" Số lượng \"), _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createVNode(_component_Field, {\n      id: \"quantity\",\n      name: \"quantity\",\n      type: \"text\",\n      class: \"form-control\",\n      modelValue: $data.product.quantity,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.product.quantity = $event)\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"quantity\",\n      class: \"error-feedback\"\n    })]), _createCommentVNode(\" Giá \"), _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _createVNode(_component_Field, {\n      id: \"BaPrice\",\n      name: \"BaPrice\",\n      type: \"text\",\n      class: \"form-control\",\n      modelValue: $data.product.BaPrice,\n      \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.product.BaPrice = $event)\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"BaPrice\",\n      class: \"error-feedback\"\n    })]), _createElementVNode(\"div\", _hoisted_17, [_hoisted_18, _createVNode(_component_Field, {\n      id: \"PrPrice\",\n      name: \"PrPrice\",\n      type: \"text\",\n      class: \"form-control\",\n      modelValue: $data.product.PrPrice,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.product.PrPrice = $event)\n    }, null, 8\n    /* PROPS */\n    , [\"modelValue\"]), _createVNode(_component_ErrorMessage, {\n      name: \"PrPrice\",\n      class: \"error-feedback\"\n    })]), _hoisted_19]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"validation-schema\"])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":"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","names":["_createElementVNode","class","for","value","type","_hoisted_1","_createVNode","_component_Form","onSubmit","$options","$data","_hoisted_3","name","onClick","required","ref","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_10","_component_Field","$event","id","_hoisted_12","onChange","_ctx","multiple","_createCommentVNode","_hoisted_14","quantity","_component_ErrorMessage","_hoisted_16","BaPrice","_hoisted_18","PrPrice","_hoisted_19"],"sourceRoot":"","sources":["D:\\CT449\\shoponline\\src\\components\\AdminEditProduct.vue"],"sourcesContent":["<template>\n  <h3>Sửa sản phẩm</h3>\n  <Form @submit=\"updateProduct(product)\" :validation-schema=\"productFormSchema\">\n    <div class=\"mb-3 type\">\n      <label for=\"type\" class=\"form-label\">Phân loại</label>\n      <select\n        class=\"form-select form-select-sm checkbox-select-all-options\"\n        name=\"action\"\n        @click=\"addType\"\n        required\n        ref=\"type\"\n      >\n        <option value=\"\">{{ product.type }}</option>\n        <option value=\"1\">Bông tai</option>\n        <option value=\"2\">Nhẫn</option>\n        <option value=\"3\">Vòng tay</option>\n        <option value=\"4\">Dây chuyền</option>\n      </select>\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"name\" class=\"form-label\">Tên sản phẩm</label>\n      <Field\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.name\"\n        id=\"name\"\n        name=\"name\"\n      />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"img\" class=\"form-label\">Hình Ảnh</label>\n      <Field\n        id=\"img\"\n        name=\"img\"\n        type=\"file\"\n        @change=\"handleFileUpload\"\n        @click=\"handleFileName\"\n        ref=\"file\"\n        class=\"form-control\"\n        multiple\n      />\n      <!-- <div class=\"sumImg\" v-if=\"previousNameFile.length > 0\">\n        <div\n          class=\"FileNameItem\"\n          v-for=\"(FileName, index) in previousNameFile\"\n          :key=\"index\"\n        > -->\n      <!-- {{ FileName }} -->\n      <!-- </div> -->\n      <!-- </div> -->\n      <!-- <ErrorMessage name=\"img\" class=\"error-feedback\" /> -->\n    </div>\n    <!-- Số lượng -->\n    <div class=\"mb-3\">\n      <label for=\"quantity\" class=\"form-label\">Số lượng</label>\n      <Field\n        id=\"quantity\"\n        name=\"quantity\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.quantity\"\n      />\n      <ErrorMessage name=\"quantity\" class=\"error-feedback\" />\n    </div>\n    <!-- Giá -->\n    <div class=\"mb-3\">\n      <label for=\"BaPrice\" class=\"form-label\">Giá Gốc</label>\n      <Field\n        id=\"BaPrice\"\n        name=\"BaPrice\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.BaPrice\"\n      />\n      <ErrorMessage name=\"BaPrice\" class=\"error-feedback\" />\n    </div>\n    <div class=\"mb-3\">\n      <label for=\"PrPrice\" class=\"form-label\">Giá Khuyến Mãi</label>\n      <Field\n        id=\"PrPrice\"\n        name=\"PrPrice\"\n        type=\"text\"\n        class=\"form-control\"\n        v-model=\"product.PrPrice\"\n      />\n      <ErrorMessage name=\"PrPrice\" class=\"error-feedback\" />\n    </div>\n    <div class=\"btnSM\">\n      <button type=\"submit\" class=\"btn btn-primary\">Lưu lại</button>\n    </div>\n  </Form>\n</template>\n\n<script>\nimport * as yup from \"yup\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport ContactService from \"@/services/contact.service\";\n\nexport default {\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  props: {\n    id: { type: String, required: true },\n  },\n  data() {\n    const productFormSchema = yup.object().shape({\n      name: yup\n        .string()\n        .required(\"Tên phải có giá trị.\")\n        .min(2, \"Tên phải ít nhất 2 ký tự.\")\n        .max(250, \"Tên có nhiều nhất 250 ký tự.\"),\n      img: yup.array(),\n      quantity: yup.string().required(\"Tên phải có giá trị.\"),\n      BaPrice: yup\n        .string()\n        .required(\"Không được để trống trường này.\")\n        .min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\")\n        .max(50, \"E-mail tối đa 50 ký tự.\"),\n      PrPrice: yup\n        .string()\n        .required(\"Không được để trống trường này.\")\n        .min(4, \"Giá của sản phẩm phải tối thiểu 4 chữ số.\")\n        .max(50, \"E-mail tối đa 50 ký tự.\"),\n    });\n    return {\n      product: {\n        type: Object,\n        require: true,\n      },\n      productFormSchema,\n      file: [],\n      quantitys: [],\n      previousNameFile: [],\n    };\n  },\n  methods: {\n    handleFileUpload() {\n      this.file.push(this.$refs.file.files[0].name);\n      this.product.img = this.file;\n      this.previousNameFile = this.file;\n      console.log(this.file);\n      console.log(this.product);\n      console.log(this.previousNameFile);\n      console.log(this.previousNameFile.length);\n    },\n    addType() {\n      this.product.type =\n        this.$refs.type.options[this.$refs.type.selectedIndex].text;\n    },\n    async getProduct(id) {\n      try {\n        this.product = await ContactService.get(id);\n      } catch (error) {\n        console.log(error);\n        this.$router.push({\n          name: \"notfound\",\n          params: {\n            pathMatch: this.$route.path.split(\"/\").slice(1),\n          },\n          query: this.$route.query,\n          hash: this.$route.hash,\n        });\n      }\n    },\n    async updateProduct(data) {\n      try {\n        await ContactService.update(this.product._id, data);\n        this.$router.push({ name: \"AdminAllProduct\" });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n  created() {\n    this.getProduct(this.id);\n    this.message = \"\";\n  },\n};\n</script>\n\n<style cope>\n.btnSM {\n  text-align: right;\n  padding: 0 12px;\n}\n\n.btn-primary {\n  padding: 12px 24px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}